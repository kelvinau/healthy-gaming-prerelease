var MOVE_SECTION_TIME=1e3;function getCurrentAnchor(){var arr=window.location.href.split("/"),anchor=arr[arr.length-1];return"#"!==anchor[0]?"#project":anchor}function signup(){return $.post("ajax.php",{csrf_token:$("#csrf_token").val(),name:$("#name").val(),birth_year:$("#birth_year").val(),gender:$("#gender").val(),gender_others:$("#gender_others").val(),country:$("#country").val(),city:$("#city").val(),email:$("#email").val()}).then(function(res){var json=JSON.parse(res);if(1===json.status)$(".submit-container").html("<p>"+json.msg+"</p>");else{var msg=$.isArray(json.msg)?json.msg.join(", "):json.msg;$(".error-msg").text(msg)}}),!1}$(document).ready(function(){var joystick_state=0;$idle_1=$(".idle_1"),$idle_2=$(".idle_2"),$up_1=$(".up_1"),$up_2=$(".up_2"),$down_1=$(".down_1"),$down_2=$(".down_2");var timer,anchors=["project","founder","signup","faq"];function onMouseUp(){clearInterval(timer),timer=null,hideAllJ(),showJ(0===joystick_state?$idle_1:$idle_2)}function hideAllJ(){$(".joystick-container").find(".background-img").css("visibility","hidden")}function showJ(elem){elem.css("visibility","visible")}$(".joystick-container").hover(function(){0===joystick_state&&(hideAllJ(),showJ($idle_2),joystick_state=1)},function(){hideAllJ(),showJ($idle_1),joystick_state=0}),$(".joystick-container .top").mousedown(function(){hideAllJ(),showJ($up_2),joystick_state=3,$.fn.fullpage.moveSectionUp(),timer=setInterval($.fn.fullpage.moveSectionUp,MOVE_SECTION_TIME)}).mouseup(onMouseUp),$(".joystick-container .bottom").mousedown(function(){hideAllJ(),showJ($down_2),joystick_state=5,$.fn.fullpage.moveSectionDown(),timer=setInterval($.fn.fullpage.moveSectionDown,MOVE_SECTION_TIME)}).mouseup(onMouseUp),$("#main").fullpage({menu:"#menu",anchors:anchors,paddingTop:"66px",onLeave:function(index,nextIndex,direction){$(".navbar").find(".active").removeClass("active"),$('.navbar a.nav-link[href="#'+anchors[nextIndex-1]+'"]').parent().addClass("active"),3!==joystick_state&&5!==joystick_state&&(hideAllJ(),"up"===direction?showJ($up_1):"down"===direction&&showJ($down_1))},afterLoad:function(){3!==joystick_state&&5!==joystick_state&&(hideAllJ(),showJ($idle_1),joystick_state=0)},afterRender:function(e){$('.navbar a.nav-link[href="'+getCurrentAnchor()+'"]').parent().addClass("active")}}),$(".navbar .nav-link").on("click",function(){$(".navbar-collapse").collapse("hide")}),setTimeout(function(){$(".alert-success").fadeIn(1e3)},500)});